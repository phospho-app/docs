{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/status":{"get":{"summary":"Status","description":"Get the status of the server.","operationId":"status_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerStatus"}}}}}}},"/move/init":{"post":{"tags":["control"],"summary":"Initialize Robot","description":"Initialize the robot to its initial position before starting the teleoperation.","operationId":"move_init_move_init_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}}}}},"/move/teleop":{"post":{"tags":["control"],"summary":"Teleoperation Control","description":"Update the robot position based on the received teleoperation data.","operationId":"move_teleoperation_move_teleop_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppControlData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/move/absolute":{"post":{"tags":["control"],"summary":"Move to Absolute Position","description":"Move the robot to an absolute position specified by the end-effector.","operationId":"move_to_absolute_position_move_absolute_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EndEffectorPosition"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/move/relative":{"post":{"tags":["control"],"summary":"Move to Relative Position","description":"Move the robot to a relative position based on received delta values.","operationId":"move_relative_move_relative_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenVLAControlData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/move/mimick":{"post":{"tags":["control"],"summary":"Mimick Leader Robot","description":"Mimick the movements of a leader robot to a follower robot for a specified duration.","operationId":"mimicking_robots_move_mimick_post","parameters":[{"name":"duration","in":"query","required":true,"schema":{"type":"integer","title":"Duration"}},{"name":"environment","in":"query","required":false,"schema":{"enum":["simu","real"],"type":"string","default":"simu","title":"Environment"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auto/start":{"post":{"tags":["control"],"summary":"Start Automatic Control","description":"Start automatic control of the robot using OpenVLA model outputs.","operationId":"start_auto_auto_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutoControlRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auto/stop":{"post":{"tags":["control"],"summary":"Stop Automatic Control","description":"Stop the automatic control process.","operationId":"stop_auto_auto_stop_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}}}}},"/end-effector/read":{"post":{"tags":["control"],"summary":"Read End-Effector Position","description":"Retrieve the position, orientation, and open status of the robot's end effector.","operationId":"end_effector_read_end_effector_read_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EndEffectorPosition"}}}}}}},"/torque/read":{"post":{"tags":["control"],"summary":"Read Torque","description":"Read the current torque of the robot's joints.","operationId":"read_torque_torque_read_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TorqueReadResponse"}}}}}}},"/torque/toggle":{"post":{"tags":["control"],"summary":"Toggle Torque","description":"Enable or disable the torque of the robot.","operationId":"toggle_torque_torque_toggle_post","parameters":[{"name":"torque_status","in":"query","required":true,"schema":{"type":"boolean","title":"Torque Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/joints/read":{"post":{"tags":["control"],"summary":"Read Joint Positions","description":"Read the current positions of the robot's joints in radians and motor units.","operationId":"read_joints_joints_read_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JointsReadResponse"}}}}}}},"/joints/write":{"post":{"tags":["control"],"summary":"Write Joint Positions","description":"Move the robot's joints to the specified angles.","operationId":"write_joints_joints_write_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JointsWriteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/calibrate":{"post":{"tags":["control"],"summary":"Calibrate Robot","description":"Start the calibration sequence for the robot.","operationId":"calibrate_calibrate_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalibrateResponse"}}}}}}},"/viz":{"get":{"tags":["camera"],"summary":"Cameras overview","description":"Page with an overview of the connected cameras. Open this page in the chrome browser: http://localhost:80/viz","operationId":"viz_viz_get","responses":{"200":{"description":"HTML page displaying camera overview.","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/video/{camera_id}":{"get":{"tags":["camera"],"summary":"Video Feed For Camera","description":"Stream video feed of the specified `camera_id`.","operationId":"video_feed_for_camera_video__camera_id__get","parameters":[{"name":"camera_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Camera Id"}}],"responses":{"200":{"description":"Streaming video feed of the specified camera."},"404":{"description":"Camera not available"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/video/depth":{"get":{"tags":["camera"],"summary":"Video Feed For Depth","description":"Returns the depth feed from the realsense camera.","operationId":"video_feed_for_depth_video_depth_get","responses":{"200":{"description":"Streaming depth feed from the realsense camera."},"404":{"description":"Camera not available"}}}},"/video/realsense":{"get":{"tags":["camera"],"summary":"Video Realsense","description":"Stream video feed from realsense camera.","operationId":"video_realsense_video_realsense_get","responses":{"200":{"description":"Streaming video feed from the realsense camera."},"404":{"description":"Camera not available"}}}},"/recording/start":{"post":{"tags":["recording"],"summary":"Start Recording Episode","description":"Asynchronously start recording an episode in the background.\nSame output format as OpenVLA.","operationId":"start_recording_episode_recording_start_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}}}}},"/recording/stop":{"post":{"tags":["recording"],"summary":"Stop Recording Episode","description":"Stop the recording of the episode. The data is saved to disk.","operationId":"stop_recording_episode_recording_stop_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordingStopResponse"}}}}}}},"/recording/play":{"post":{"tags":["recording"],"summary":"Play Recording","description":"Play a recorded episode.","operationId":"play_recording_recording_play_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordingPlayRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AllCamerasStatus":{"properties":{"video_cameras_ids":{"items":{"type":"integer"},"type":"array","title":"Video Cameras Ids","description":"List of available video cameras ids"},"realsense_available":{"type":"boolean","title":"Realsense Available","description":"True if a RealSense camera is available","default":false}},"type":"object","title":"AllCamerasStatus","description":"Description of the status of all cameras. Use this to know which camera to stream."},"AppControlData":{"properties":{"x":{"type":"number","title":"X"},"y":{"type":"number","title":"Y"},"z":{"type":"number","title":"Z"},"rx":{"type":"number","title":"Rx","description":"Absolute Pitch in degrees"},"ry":{"type":"number","title":"Ry","description":"Absolute Yaw in degrees"},"rz":{"type":"number","title":"Rz","description":"Absolute Roll in degrees"},"open":{"type":"number","title":"Open","description":"0 for closed, 1 for open"}},"type":"object","required":["x","y","z","rx","ry","rz","open"],"title":"AppControlData","description":"Type of data sent by the Metaquest app."},"AutoControlRequest":{"properties":{"instruction":{"type":"string","title":"Instruction","description":"Prompt to be followed by the robot"}},"type":"object","required":["instruction"],"title":"AutoControlRequest","description":"Launch an auto control with a request to the OpenVLA server."},"CalibrateResponse":{"properties":{"status":{"type":"string","enum":["success","error","in_progress"],"title":"Status","description":"Status of the calibration. Ends when status is success or error."},"message":{"type":"string","title":"Message"},"current_step":{"type":"integer","title":"Current Step"},"total_nb_steps":{"type":"integer","title":"Total Nb Steps"}},"type":"object","required":["status","message","current_step","total_nb_steps"],"title":"CalibrateResponse","description":"Response from the calibration endpoint."},"EndEffectorPosition":{"properties":{"x":{"type":"number","title":"X"},"y":{"type":"number","title":"Y"},"z":{"type":"number","title":"Z"},"rx":{"type":"number","title":"Rx","description":"Absolute Pitch in degrees"},"ry":{"type":"number","title":"Ry","description":"Absolute Yaw in degrees"},"rz":{"type":"number","title":"Rz","description":"Absolute Roll in degrees"},"open":{"type":"number","title":"Open","description":"0 for closed, 1 for open"}},"type":"object","required":["x","y","z","rx","ry","rz","open"],"title":"EndEffectorPosition","description":"End effector position for a movement in absolute frame."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JointsReadResponse":{"properties":{"angles_rad":{"items":{"type":"number"},"type":"array","title":"Angles Rad","description":"A list of length 7, with the position of each joint in radian."},"angles_motor_units":{"items":{"type":"integer"},"type":"array","title":"Angles Motor Units","description":"A list of length 7, with the position of each joint in motor units."}},"type":"object","required":["angles_rad","angles_motor_units"],"title":"JointsReadResponse","description":"Response to read the joints of the robot."},"JointsWriteRequest":{"properties":{"angles":{"items":{"type":"number"},"type":"array","title":"Angles","description":"A list of length 7, with the position of each joint in radian."},"unit":{"type":"string","enum":["rad","motor_units","degrees"],"title":"Unit","description":"The unit of the angles. Defaults to radian.","default":"rad"}},"type":"object","required":["angles"],"title":"JointsWriteRequest","description":"Request to set the joints of the robot."},"OpenVLAControlData":{"properties":{"x":{"type":"number","title":"X"},"y":{"type":"number","title":"Y"},"z":{"type":"number","title":"Z"},"rx":{"type":"number","title":"Rx","description":"Relative Pitch in radian"},"ry":{"type":"number","title":"Ry","description":"Relative Yaw in radian"},"rz":{"type":"number","title":"Rz","description":"Relative Roll in radian"},"open":{"type":"number","title":"Open"}},"type":"object","required":["x","y","z","rx","ry","rz","open"],"title":"OpenVLAControlData","description":"Type of action ordered by OpenVLA\n- delta on position\n- delta orientation (euler angles, radian)\n- float to close/open the gripper"},"RecordingPlayRequest":{"properties":{"episode_path":{"type":"string","title":"Episode Path","description":"Path to the .json file to play."}},"type":"object","required":["episode_path"],"title":"RecordingPlayRequest","description":"Request to play a recorded episode."},"RecordingStopResponse":{"properties":{"episode_path":{"type":"string","title":"Episode Path","description":"Path to the .json file where the episode is saved."}},"type":"object","required":["episode_path"],"title":"RecordingStopResponse","description":"Response when the recording is stopped. The episode is saved in the given path."},"ServerStatus":{"properties":{"status":{"type":"string","enum":["ok","error"],"title":"Status"},"name":{"type":"string","title":"Name"},"robots":{"items":{"type":"string"},"type":"array","title":"Robots"},"cameras":{"$ref":"#/components/schemas/AllCamerasStatus"}},"type":"object","required":["status","name"],"title":"ServerStatus","description":"Contains the status of the app"},"StatusResponse":{"properties":{"status":{"type":"string","const":"ok","title":"Status","default":"ok"}},"type":"object","title":"StatusResponse","description":"Default response."},"TorqueReadResponse":{"properties":{"current_torque":{"items":{"type":"number"},"type":"array","title":"Current Torque","description":"A list of length 7, with the current torque of each joint."}},"type":"object","required":["current_torque"],"title":"TorqueReadResponse","description":"Response to read the torque of the robot."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}